<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta charset="utf-8">
    <title>X3DOM Documentation: Tutorials</title>    
    <link type="text/css" rel="stylesheet" href="../../../static/styles/x3dom-docs.css">
    <script src="../../../static/scripts/prettify/run_prettify.js"></script>
</head>

<body>

<div id="mainContainerDiv">

<div id="header-decoration">
    official x3<strong>dom</strong> documentation
</div>
<div id="header-navbar">
    <a href="http://x3dom.org">x3dom.org</a>
    >
    <a href="../../../index.html">documentation</a>    
    >
    <a href="../../index.html">Tutorials</a>
	>
    <a href="#">Simple Screen-Space Ambient Occlusion</a>
</div>
<div id="main">

    <section>	
        
        <div>
            <div class="simpleButton" style="float:left;"><a href="../shadows/index.html" style="float:right;">&#8678; Previous Section</a></div>
            <div class="simpleButton" style="float:right;"><a href="../gamma/index.html" style="float:right;">Next Section &#8680;</a></div>
            <div style="clear:both;"></div>
        </div>
        <div style="text-align:center;">
            <h1>Simple Screen-Space Ambient Occlusion</h1>
        </div>            
        <br>
		
		<h2>Using Screen-Space Ambient Occlusion (SSAO)</h2>
		<p>Screen-Space Ambient Occlusion is a post-process that coarsely approximates a shadowing effect from ambient light.
		Its practical effect is a better perception of spatial relations between objects in.
		Screen-Space Ambient Occlusion can be enabled with the Environment node's attribute "SSAO".
		The attribute "SSAOamount" determines the strength of the SSAO effect.
		The attributes "SSAOblurDepthTreshold" and "SSAOradius" must be tweaked according to the scale of the scene.
		<pre class="prettyprint"><code class="language-html">
		&ltEnvironment id='myEnv' SSAO='true' SSAOamount='0.3' SSAOblurDepthTreshold='1.0' SSAOradius='0.7'&gt &ltEnvironment&gt
		</code></pre>
		<div style="text-align:center;">
            <div class="docuFigureContainer">			
                <img class="docuFigure" src='ssao_before_after.jpg'>
                <div class="docuCaption">SSAO disabled (left) and enabled (right)</div>
            </div>
        </div>
		<p>
		<h2>How it works</h2>		
		The post-processing shader measures the amount of occlusion for each pixel.
		It does so by sampling a spherical kernel where the size of the kernel depends on the world-space distance of the pixel to the camera.
		As a result, the radius in which the amount of ambient occlusion is determined is specified in world-space (attribute "SSAOradius").
		Thus, the sampling radius always stays the same (relative to the scene) if the camera is moved.
		In order to keep the number of samples for the ambient occlusion low, each pixel is sampled with a different random seed.
		This sparse sampling scheme results in noise that is removed with a depth-aware averaging filter.
		This filter only incorporates neigboring pixels that are not too far away to prevent blurring across edges.
		The attribute "SSAOblurDepthTreshold" defines how big the depth difference (in world space) is allowed to be.
        <p>               
        <a href="#">Back to page top &#10548;</a>
        </p>    
        
        <div class="contentBox">                        
            <h2>Get this X3DOM example:</h2>
            <ul>
                <li><a href="example.html"><img src="../../liveDemo.png">Display example HTML file</a></li>                
                <li><a href="javascript:window.location='view-source:' + window.location.href.replace('index.html', 'example.html');"><img src="../../source.png">View example page source</a></li>                
                <li><a href="ssao.zip"><img src="../../download.png">Download full example (.zip archive)</a></li>
            </ul>      
            <br>
            
            <h2>Read more about the X3DOM nodes used in this tutorial:</h2>
            <ul>
				<li><a href="../../../author/EnvironmentalEffects/Environment.html">Environment</a></li>
				<li><a href="../../../author/Core/Scene.html">Scene</a></li>
				<li><a href="../../../author/Navigation/Viewpoint.html">Viewpoint</a></li>
            </ul>
        </div>

    </section>

</div>

</div>

</body>
</html>
